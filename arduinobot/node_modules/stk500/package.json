{
  "_args": [
    [
      {
        "raw": "stk500@git://github.com/noopkat/js-stk500v1.git#avrgirl",
        "scope": null,
        "escapedName": "stk500",
        "name": "stk500",
        "rawSpec": "git://github.com/noopkat/js-stk500v1.git#avrgirl",
        "spec": "git://github.com/noopkat/js-stk500v1.git#avrgirl",
        "type": "hosted",
        "hosted": {
          "type": "github",
          "ssh": "git@github.com:noopkat/js-stk500v1.git#avrgirl",
          "sshUrl": "git+ssh://git@github.com/noopkat/js-stk500v1.git#avrgirl",
          "httpsUrl": "git+https://github.com/noopkat/js-stk500v1.git#avrgirl",
          "gitUrl": "git://github.com/noopkat/js-stk500v1.git#avrgirl",
          "shortcut": "github:noopkat/js-stk500v1#avrgirl",
          "directUrl": "https://raw.githubusercontent.com/noopkat/js-stk500v1/avrgirl/package.json"
        }
      },
      "C:\\Users\\Diego\\arduinotests\\node_modules\\avrgirl-arduino"
    ]
  ],
  "_from": "git://github.com/noopkat/js-stk500v1.git#avrgirl",
  "_id": "stk500@1.0.4",
  "_inCache": true,
  "_location": "/stk500",
  "_phantomChildren": {},
  "_requested": {
    "raw": "stk500@git://github.com/noopkat/js-stk500v1.git#avrgirl",
    "scope": null,
    "escapedName": "stk500",
    "name": "stk500",
    "rawSpec": "git://github.com/noopkat/js-stk500v1.git#avrgirl",
    "spec": "git://github.com/noopkat/js-stk500v1.git#avrgirl",
    "type": "hosted",
    "hosted": {
      "type": "github",
      "ssh": "git@github.com:noopkat/js-stk500v1.git#avrgirl",
      "sshUrl": "git+ssh://git@github.com/noopkat/js-stk500v1.git#avrgirl",
      "httpsUrl": "git+https://github.com/noopkat/js-stk500v1.git#avrgirl",
      "gitUrl": "git://github.com/noopkat/js-stk500v1.git#avrgirl",
      "shortcut": "github:noopkat/js-stk500v1#avrgirl",
      "directUrl": "https://raw.githubusercontent.com/noopkat/js-stk500v1/avrgirl/package.json"
    }
  },
  "_requiredBy": [
    "/avrgirl-arduino"
  ],
  "_resolved": "git://github.com/noopkat/js-stk500v1.git#05c43687b3faaad8f54ef53bc7e97d5f0fe45f76",
  "_shasum": "39056bf3d4c2692d9c22a51999d8ce64786f93dd",
  "_shrinkwrap": null,
  "_spec": "stk500@git://github.com/noopkat/js-stk500v1.git#avrgirl",
  "_where": "C:\\Users\\Diego\\arduinotests\\node_modules\\avrgirl-arduino",
  "author": {
    "name": "Jacob Rosenthal"
  },
  "bugs": {
    "url": "https://github.com/jacobrosenthal/js-stk500v1/issues"
  },
  "dependencies": {
    "async": "^0.9.0",
    "buffer-equal": "0.0.1"
  },
  "description": "Fully javascript stk500v1 programmer. Allows you to program Arduinos straight from node (or browser for that matter). No more avrdude system calls or using the arduino IDE.",
  "devDependencies": {
    "event-stream": "^3.1.7",
    "intel-hex": "^0.1.1",
    "mocha": "^2.0.1",
    "serialport": "^1.4.0",
    "should": "^4.4.1",
    "sinon": "^1.12.2"
  },
  "directories": {
    "example": "examples"
  },
  "gitHead": "05c43687b3faaad8f54ef53bc7e97d5f0fe45f76",
  "homepage": "https://github.com/jacobrosenthal/js-stk500v1#readme",
  "keywords": [
    "arduino",
    "stk500",
    "avrdude"
  ],
  "license": "MIT",
  "main": "index.js",
  "name": "stk500",
  "optionalDependencies": {},
  "readme": "##stk500\r\nFully javascript stk500v1 programmer. Allows you to program Arduinos straight from node (or browser for that matter -- see [browserdude](github.com/jacobrosenthal/browserdude). No more avrdude system calls or using the arduino IDE.\r\n\r\nHuge thanks to Pinoccio for their stk500v2 browser implementation (for Arduino Megas, etc) from which I stole whole lines of code. We're working to unify our programmers with some sort of overarching module. For now see [js-stk500](https://github.com/Pinoccio/js-stk500) to program Arduino Mega and Pinoccio's\r\n\r\n###INSTALL\r\n```\r\nnpm install stk500\r\n```\r\n\r\n####Program:\r\n\r\nYou need a stream object, commonly [serialport](https://www.npmjs.com/package/serialport) with the correct speed for your chip (115200 for the uno) and path to your device  :\r\n```\r\nvar SerialPort = require(\"serialport\");\r\nvar serialPort = new SerialPort.SerialPort(\"/dev/tty.something\", {\r\nbaudrate: 115200,\r\n});\r\n```\r\n\r\nWe've included some examples hexes, and you can parse them with the [intel-hex](https://www.npmjs.com/package/intel-hex):\r\n```\r\nvar intel_hex = require('intel-hex');\r\nvar fs = require('fs');\r\n\r\nvar data = fs.readFileSync('arduino-1.0.6/uno/StandardFirmata.cpp.hex', { encoding: 'utf8' });\r\n\r\nvar hex = intel_hex.parse(data).data;\r\n\r\n```\r\n\r\nWith [serialport](https://www.npmjs.com/package/serialport), you need to wait for your open event, but then you can bootload:\r\n```\r\nvar Stk500 = require('stk500');\r\n\r\nserialPort.on('open', function(){\r\n\r\n\tvar board = {\r\n\t  signature: new Buffer([0x1e, 0x95, 0x0f]),\r\n\t  pageSize: 128,\r\n\t  timeout: 400\r\n\t};\r\n\r\n\tStk500.bootload(serialPort, hex, board, function(error){\r\n\r\n\t  serialPort.close(function (error) {\r\n\t    console.log(error);\r\n\t  });\r\n\r\n\t  done(error);\r\n\t});\r\n\r\n});\r\n\r\n```\r\n\r\n\r\n###How to get a hex\r\n\r\nYou can compile by hand yourself with avrdude if you know your stuff, or you can just steal one from Arduino. First make sure you have verbosity enabled in your Arduino preferences: Arduino Preferences -> check Show verbose output during Compilation. Now when you build you'll see a ton of lines on screen. The last couple lines have what you need:\r\n```\r\n/var/folders/zp/bpw8zd0141j5zf7l8m_qtt8w0000gp/T/build6252696906929781517.tmp/Blink.cpp.hex \r\n\r\nSketch uses 896 bytes (2%) of program storage space. Maximum is 32,256 bytes.\r\nGlobal variables use 9 bytes (0%) of dynamic memory, leaving 2,039 bytes for local variables. Maximum is 2,048 bytes.\r\n```\r\nGrab that hex file and you're good to go.\r\n\r\n###CHANGELOG\r\n0.0.1 \r\nfirst\r\n\r\n0.0.2\r\nAdded loading from fs to example, some example hexes from arduino 1.0.6 for Uno, and instructions on how to find a hex file to load.\r\n\r\n0.0.3\r\nBugs squashed leading to much more stable getsync and less attempts necessary to successfuly programmin. Slight refactor in example and clearer console.log messaging.\r\n\r\n0.0.4\r\nSlight require change for browserfy-ability and a few more touchups in example\r\n\r\n0.0.5\r\nFixed instability issue especially in chrome where listeners were not being deregistered\r\n\r\n0.0.6\r\nAdded ability to verify device signature.\r\n\r\n1.0.0\r\n* Nearly complete rearchitecture.\r\n* Moved away from constructor.\r\n* Take a stream object instead of an explicit node serial object now, though node serial is a stream so no change for most users.\r\n* No connect, reset or disconnect anymore, it is now your job to send it a recently reset (opened) connection thats ready to go.\r\n* Added verify command\r\n* Added bootload convenience function that takes a board options object\r\n* Added more examples\r\n\r\n1.0.1\r\nClean up dependencies\r\n\r\n1.0.2\r\nRemove postinstall\r\n\r\n1.0.3\r\n* Better errors\r\n* More Tests",
  "readmeFilename": "README.md",
  "repository": {
    "type": "git",
    "url": "git+https://github.com/jacobrosenthal/js-stk500v1.git"
  },
  "scripts": {
    "test": "mocha --include test/*.js test/*.js --reporter spec"
  },
  "version": "1.0.4"
}
